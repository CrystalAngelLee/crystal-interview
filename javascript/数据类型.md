# JS 数据类型-8种

## 基础类型

1. boolean
2. number
3. string
4. undefined
5. null
6. *Symbol
7. *BigInt

## 引用类型

Object【Array/ RegExp/ Date/ Math/ Function】（5种常见类型）



# 数据类型的检测

## 1. typeof

```js
typeof 1 // 'number'
typeof '1' // 'string'
typeof undefined // 'undefined'
typeof true // 'boolean'
typeof Symbol() // 'symbol'
typeof null // 'object'
typeof [] // 'object'
typeof {} // 'object'
typeof console // 'object'
typeof console.log // 'function'
```

结论：基础类型除了null 会被判断为’object‘ 其他均正确， 引用类型除了function 判断正确其他仅能判断为’object‘ 

## 2. instanceof

> 通过 instanceof 判断这个对象是否是之前那个构造函数生成的对象

```js
let Car = function() {}
let benz = new Car()
benz instanceof Car // true
let car = new String('Mercedes Benz')
car instanceof String // true
let str = 'Covid-19'
str instanceof String // false
```

结论： instanceof 可以准确地判断复杂引用数据类型，但是不能正确判断基础数据类型

## 3. Object.prototype.toString

```js
Object.prototype.toString({})       // "[object Object]"
Object.prototype.toString.call({})  // 同上结果，加上call也ok
Object.prototype.toString.call(1)    // "[object Number]"
Object.prototype.toString.call('1')  // "[object String]"
Object.prototype.toString.call(true)  // "[object Boolean]"
Object.prototype.toString.call(function(){})  // "[object Function]"
Object.prototype.toString.call(null)   //"[object Null]"
Object.prototype.toString.call(undefined) //"[object Undefined]"
Object.prototype.toString.call(/123/g)    //"[object RegExp]"
Object.prototype.toString.call(new Date()) //"[object Date]"
Object.prototype.toString.call([])       //"[object Array]"
Object.prototype.toString.call(document)  //"[object HTMLDocument]"
Object.prototype.toString.call(window)   //"[object Window]"
```



**自实现通用数据类型判断思路**

基础类型使用typeof 进行返回，复杂类型以及null 通过Object.prototype.toString返回

```js
export function typeOfData<T>(obj: T): string {
  const type = typeof obj;
  if (type !== "object") return type;
  return Object.prototype.toString
    .call(obj)
    .replace(/^\[object (\S+)\]$/, "$1")
    .toLowerCase();
}
```

